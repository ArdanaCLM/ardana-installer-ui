<div ng-controller="EditDiskModelController as editDiskModelCtrl">
  <div class="help-icon-header">
    <help-popover class="pull-right"
      template-url="'app/installer/server_assocs/disk_models/edit_disk_model/edit_disk_model.drawer.help.html'">
    </help-popover>
  </div>
  <div class="drawer-body">
    <div class="input-control small-control-input">
      <label class="control-label">{{'server_assocs.disk_models.name' | translate}}</label>
      <div class="error-message" role="alert"
           ng-show="!drawerForm.disk_model_name.$pristine && drawerForm.disk_model_name.$error.ardanaUnique">
        {{'server_assocs.disk_models.already_exists' | translate}}
      </div>
      <input type="text"
             class="control-input"
             name="disk_model_name"
             ng-model="editDiskModelCtrl.diskModelRow.name"
             ardana-unique ardana-valid-name
             items="config.metadata.diskModels"
             key="'name'"
             required />
    </div>

    <hr class="drawer-divider">

    <editable-placeholder
      label="server_assocs.disk_models.device_groups.title"
      add-action-label="server_assocs.disk_models.device_groups.btn.add"
      add-action="editDiskModelCtrl.addDeviceGroup()"
      is-set="editDiskModelCtrl.deviceGroups.length > 0">

      <action-table table-data="editDiskModelCtrl.deviceGroups"
        actions-label="'installer.actions.header'"
        table-headers="editDiskModelCtrl.deviceGroupTableHeader"
        config="editDiskModelCtrl.deviceGroupTableConfig"
        add-action="editDiskModelCtrl.addDeviceGroup"
        edit-action="editDiskModelCtrl.editDeviceGroup">
      </action-table>
    </editable-placeholder>

    <editable-placeholder
      label="server_assocs.disk_models.volume_groups.title"
      add-action-label="server_assocs.disk_models.volume_groups.btn.add"
      add-action="editDiskModelCtrl.addVolumeGroup()"
      is-set="editDiskModelCtrl.volumeGroups.length > 0">

      <action-table table-data="editDiskModelCtrl.volumeGroups"
        actions-label="'installer.actions.header'"
        table-headers="editDiskModelCtrl.volumeGroupTableHeader"
        config="editDiskModelCtrl.volumeGroupTableConfig"
        add-action="editDiskModelCtrl.addVolumeGroup"
        edit-action="editDiskModelCtrl.editVolumeGroup">
      </action-table>
    </editable-placeholder>
  </div>
</div>
